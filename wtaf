mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/submissions/$(cat submission/SubmissionID)?status=VALIDATED
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ echo $path
https://ega-archive.org/submission-api/v1/submissions/621f4afd98e2520001e8bc26?status=VALIDATED
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/submissions/$(cat submission/IDs/)?action=VALIDATE
DACID          DatasetID      Experiment_ID  PolicyID       StudyID        
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/studies/$(cat submission/IDs/StudyID)?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ echo $path
https://ega-archive.org/submission-api/v1/studies/621f4b0398e2520001e8bc28?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ curl -H "X-Token: $token" -X PUT $path
{
  "header" : {
    "apiVersion" : "v1",
    "code" : "200",
    "service" : "submitterportal",
    "developerMessage" : "",
    "userMessage" : "OK",
    "errorCode" : "1",
    "docLink" : "https://ega-archive.org",
    "errorStack" : ""
  },
  "response" : {
    "numTotalResults" : 1,
    "resultType" : "eu.crg.ega.microservice.dto.submitter.StudyData",
    "result" : [ {
      "xmlRootElement" : {
        "study" : [ {
          "identifiers" : null,
          "alias" : "2bd160ed-5d41-425b-b65b-dabede2d77f6",
          "centerName" : "PoliTO",
          "brokerName" : "EGA",
          "accession" : null,
          "descriptor" : {
            "studytitle" : "RNAsequencing of large collection of metastatic colorectal cancer xenografts",
            "studytype" : {
              "existingStudyType" : "RNA_SEQ",
              "newStudyType" : null
            },
            "studyabstract" : "long story short",
            "centername" : null,
            "centerprojectname" : null,
            "projectid" : null,
            "relatedstudies" : null,
            "studydescription" : null
          },
          "studylinks" : null,
          "studyattributes" : {
            "studyattribute" : [ {
              "tag" : "",
              "value" : "",
              "units" : null
            } ]
          }
        } ]
      },
      "studyTypeId" : "10",
      "studyType" : "RNASeq",
      "shortName" : "",
      "title" : "RNAsequencing of large collection of metastatic colorectal cancer xenografts",
      "studyAbstract" : "long story short",
      "ownTerm" : "",
      "pubMedIds" : [ ],
      "customTags" : [ {
        "tag" : "",
        "value" : "",
        "label" : null,
        "unit" : null,
        "group" : null
      } ],
      "id" : "621f4b0398e2520001e8bc28",
      "ebiId" : null,
      "submissionId" : "621f4afd98e2520001e8bc26",
      "eraSubmissionId" : null,
      "userId" : "4b9029b0-88a8-4f89-b96c-29ebb7c6de3e",
      "submitterId" : "ega-box-1923",
      "status" : "VALIDATED_WITH_ERRORS",
      "version" : 1,
      "creationTime" : 1646217987453,
      "editionTime" : 1646243462264,
      "firstPublic" : null,
      "submissionCommandIds" : null,
      "validationErrorMessages" : [ "In study, alias:\"2bd160ed-5d41-425b-b65b-dabede2d77f6\", accession:\"\". The object being added already exists in the submission account with accession: \"ERP135910\"." ],
      "submissionInfoMessages" : [ "VALIDATE action has been specified.", "Submission has been rolled back." ],
      "submissionErrorMessages" : null,
      "validationResult" : false,
      "ebiSubmissionDetailsIds" : [ "621fae8498e2520001e8d5de" ],
      "lastEbiSubmissionDetailsId" : "621fae8498e2520001e8d5de",
      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\n<STUDY_SET>\n    <STUDY alias=\"2bd160ed-5d41-425b-b65b-dabede2d77f6\" center_name=\"PoliTO\" broker_name=\"EGA\">\n        <DESCRIPTOR>\n            <STUDY_TITLE>RNAsequencing of large collection of metastatic colorectal cancer xenografts</STUDY_TITLE>\n            <STUDY_TYPE existing_study_type=\"RNASeq\"/>\n            <STUDY_ABSTRACT>long story short</STUDY_ABSTRACT>\n        </DESCRIPTOR>\n        <STUDY_ATTRIBUTES>\n            <STUDY_ATTRIBUTE>\n                <TAG></TAG>\n                <VALUE></VALUE>\n            </STUDY_ATTRIBUTE>\n        </STUDY_ATTRIBUTES>\n    </STUDY>\n</STUDY_SET>\n",
      "json" : "{\n  \"xmlRootElement\" : null,\n  \"studyTypeId\" : \"10\",\n  \"studyType\" : \"RNASeq\",\n  \"shortName\" : \"\",\n  \"title\" : \"RNAsequencing of large collection of metastatic colorectal cancer xenografts\",\n  \"studyAbstract\" : \"long story short\",\n  \"ownTerm\" : \"\",\n  \"pubMedIds\" : [ ],\n  \"customTags\" : [ {\n    \"tag\" : \"\",\n    \"value\" : \"\",\n    \"label\" : null,\n    \"unit\" : null,\n    \"group\" : null\n  } ],\n  \"id\" : null,\n  \"ebiId\" : null,\n  \"submissionId\" : null,\n  \"eraSubmissionId\" : null,\n  \"userId\" : null,\n  \"submitterId\" : null,\n  \"status\" : null,\n  \"version\" : 1,\n  \"creationTime\" : null,\n  \"editionTime\" : null,\n  \"firstPublic\" : null,\n  \"submissionCommandIds\" : [ \"621f4b0398e2520001e8bc27\" ],\n  \"validationErrorMessages\" : null,\n  \"submissionInfoMessages\" : null,\n  \"submissionErrorMessages\" : null,\n  \"validationResult\" : false,\n  \"ebiSubmissionDetailsIds\" : null,\n  \"lastEbiSubmissionDetailsId\" : null,\n  \"xml\" : null,\n  \"json\" : null,\n  \"alias\" : \"2bd160ed-5d41-425b-b65b-dabede2d77f6\",\n  \"egaAccessionId\" : null,\n  \"centerName\" : null\n}",
      "alias" : "2bd160ed-5d41-425b-b65b-dabede2d77f6",
      "egaAccessionId" : null,
      "centerName" : "PoliTO"
    } ]
  }
}
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/submissions/$(cat submission/)/studies/$(cat submission/IDs/StudyID)?action=VALIDATE
Dataset.json                               IDs/                                       Policy.json                                SubmissionForValidationAndSubmission.json  SubmissionID_02_03_2022                    
Experiment.json                            logs/                                      runs/                                      SubmissionID                               Submission.json                            
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/submissions/$(cat submission/SubmissionID)/studies/$(cat submission/IDs/StudyID)?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ echo $path
https://ega-archive.org/submission-api/v1/submissions/621f4afd98e2520001e8bc26/studies/621f4b0398e2520001e8bc28?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ curl -H "X-Token: $token" -X PUT $path
{
  "header" : {
    "apiVersion" : "v1",
    "code" : "404",
    "service" : "submitterportal",
    "developerMessage" : "java.lang.Exception: Not Found",
    "userMessage" : "Not Found",
    "errorCode" : "404",
    "docLink" : "https://ega-archive.org",
    "errorStack" : ""
  },
  "response" : null
}
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ path=https://ega-archive.org/submission-api/v1/$(cat submission/SubmissionID)/studies/$(cat submission/IDs/StudyID)?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ curl -H "X-Token: $token" -X PUT $path
{
  "header" : {
    "apiVersion" : "v1",
    "code" : "404",
    "service" : "submitterportal",
    "developerMessage" : "java.lang.Exception: Not Found",
    "userMessage" : "Not Found",
    "errorCode" : "404",
    "docLink" : "https://ega-archive.org",
    "errorStack" : ""
  },
  "response" : null
}mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$path=https://ega-archive.org/submission-api/v1/submissions/$(cat submission/SubmissionID)?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ echo $path
https://ega-archive.org/submission-api/v1/submissions/621f4afd98e2520001e8bc26?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ curl -H "X-Token: $token" -X PUT $path
curl: (52) Empty reply from server
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ echo $token $path
9e409312-5b25-4232-bbce-28320e5f6f56 https://ega-archive.org/submission-api/v1/submissions/621f4afd98e2520001e8bc26?action=VALIDATE
mviviani@godot:/scratch/trcanmed/EGAv2/EGAsubmitter/dataset$ curl -H "X-Token: 9e409312-5b25-4232-bbce-28320e5f6f56" -X PUT https://ega-archive.org/submission-api/v1/submissions/621f4afd98e2520001e8bc26?action=VALIDATE
curl: (52) Empty reply from server

